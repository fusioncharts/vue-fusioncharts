<template>
  <sample-wrapper :panels="panels" :activePanel="selectedPanel">
    <fusioncharts
      :width="width"
      :height="height"
      :type="type"
      :dataFormat="dataFormat"
      :dataSource="dataSource"
      :style="{ 'text-align': 'center' }"
    ></fusioncharts>
  </sample-wrapper>
</template>

<script>
var jsonify = res => res.json();
var dataFetch = fetch(
  "https://s3.eu-central-1.amazonaws.com/fusion.store/ft/data/column-chart-with-time-axis-data.json"
).then(jsonify);
var schemaFetch = fetch(
  "https://s3.eu-central-1.amazonaws.com/fusion.store/ft/schema/column-chart-with-time-axis-schema.json"
).then(jsonify);

import mixin from "./common/SamplesMixin";
import FusionCharts from "fusioncharts";
export default {
  mixins: [mixin],
  name: "ColumnTimeAxis",
  props: ["showMessage"],
  data() {
    return {
      sourceData: `// A shortened version of the data is given here.
// Please check the link below to see the complete data:
// https://s3.eu-central-1.amazonaws.com/fusion.store/ft/data/column-chart-with-time-axis-data.json
[
  [
    "2016-01-01",
    5
  ],
  [
    "2016-01-02",
    90
  ],
  [
    "2016-01-03",
    19
  ],
  [
    "2016-01-04",
    74
  ],
  [
    "2016-01-05",
    81
  ],
  [
    "2016-01-06",
    48
  ],
  [
    "2016-01-07",
    60
  ],
  [
    "2016-01-08",
    18
  ],
  [
    "2016-01-09",
    36
  ],
  [
    "2016-01-10",
    53
  ],
  [
    "2016-01-11",
    15
  ],
  [
    "2016-01-12",
    34
  ],
  [
    "2016-01-13",
    71
  ],
  [
    "2016-01-14",
    47
  ],
  [
    "2016-01-15",
    35
  ],
  [
    "2016-01-16",
    99
  ],
  [
    "2016-01-17",
    79
  ],
  [
    "2016-01-18",
    25
  ],
  [
    "2016-01-19",
    14
  ],
  [
    "2016-01-20",
    16
  ],
  [
    "2016-01-21",
    79
  ],
  [
    "2016-01-22",
    15
  ],
  [
    "2016-01-23",
    94
  ],
  [
    "2016-01-24",
    77
  ],
  [
    "2016-01-25",
    38
  ],
  [
    "2016-01-26",
    17
  ],
  [
    "2016-01-27",
    24
  ],
  [
    "2016-01-28",
    53
  ],
  [
    "2016-01-29",
    52
  ],
  [
    "2016-01-30",
    76
  ],
  [
    "2016-01-31",
    86
  ],
  [
    "2016-02-01",
    71
  ],
  [
    "2016-02-02",
    84
  ],
  [
    "2016-02-03",
    3
  ],
  [
    "2016-02-04",
    86
  ],
  [
    "2016-02-05",
    86
  ],
  [
    "2016-02-06",
    93
  ],
  [
    "2016-02-07",
    66
  ],
  [
    "2016-02-08",
    18
  ],
  [
    "2016-02-09",
    95
  ],
  [
    "2016-02-10",
    21
  ],
  [
    "2016-02-11",
    19
  ],
  [
    "2016-02-12",
    28
  ],
  [
    "2016-02-13",
    36
  ],
  [
    "2016-02-14",
    95
  ],
  [
    "2016-02-15",
    83
  ],
  [
    "2016-02-16",
    43
  ],
  [
    "2016-02-17",
    19
  ],
  [
    "2016-02-18",
    46
  ],
  [
    "2016-02-19",
    75
  ],
  [
    "2016-02-20",
    61
  ],
  [
    "2016-02-21",
    54
  ],
  [
    "2016-02-22",
    96
  ],
  [
    "2016-02-23",
    56
  ],
  [
    "2016-02-24",
    78
  ],
  [
    "2016-02-25",
    32
  ],
  [
    "2016-02-26",
    39
  ],
  [
    "2016-02-27",
    7
  ],
  [
    "2016-02-28",
    92
  ],
  [
    "2016-02-29",
    18
  ],
  [
    "2016-03-01",
    33
  ],
  [
    "2016-03-02",
    32
  ],
  [
    "2016-03-03",
    49
  ],
  [
    "2016-03-04",
    59
  ],
  [
    "2016-03-05",
    42
  ],
  [
    "2016-03-06",
    94
  ],
  [
    "2016-03-07",
    15
  ],
  [
    "2016-03-08",
    31
  ],
  [
    "2016-03-09",
    32
  ],
  [
    "2016-03-10",
    93
  ],
  [
    "2016-03-11",
    53
  ]
]`,
      sourceSchema: `[
  {
    "name": "Time",
    "type": "date",
    "format": "%Y-%m-%d"
  },
  {
    "name": "Daily Visitors",
    "type": "number"
  }
]`,
      sourceHTML: `<div id="app">
    <fusioncharts
    :type="type"
    :width="width"
    :height="height"
    :dataFormat="dataFormat"
    :dataSource="dataSource"
    ></fusioncharts>
</div>`,
      sourceJS: `import Vue from 'vue';
import VueFusionCharts from 'vue-fusioncharts';
import FusionCharts from 'fusioncharts';
import TimeSeries from 'fusioncharts/fusioncharts.timeseries';

// register VueFusionCharts component
Vue.use(VueFusionCharts, FusionCharts, TimeSeries)

var jsonify = res => res.json();
var dataFetch = fetch(
  "https://s3.eu-central-1.amazonaws.com/fusion.store/ft/data/column-chart-with-time-axis-data.json"
).then(jsonify);
var schemaFetch = fetch(
  "https://s3.eu-central-1.amazonaws.com/fusion.store/ft/schema/column-chart-with-time-axis-schema.json"
).then(jsonify);

var app = new Vue({
    el: '#app',
    data: {
      width: "100%",
      height: "400",
      type: "timeseries",
      dataFormat: "json",
      dataSource: {
        caption: { text: "Online Sales of a SuperStore in the US" },
        data: null,
        chart: {
          showLegend: 0
        },
        caption: {
          text: "Daily Visitors Count of a Website"
        },
        yAxis: [
          {
            plot: {
              value: "Daily Visitors",
              type: "column"
            },
            title: "Daily Visitors (in thousand)"
          }
        ]
      }
    },
    mounted: function() {
      Promise.all([dataFetch, schemaFetch]).then(res => {
        const data = res[0];
        const schema = res[1];
        const fusionTable = new FusionCharts.DataStore().createDataTable(
          data,
          schema
        );
        this.dataSource.data = fusionTable;
      });
    }
});`,
      width: "100%",
      height: "400",
      type: "timeseries",
      dataFormat: "json",
      dataSource: {
        caption: { text: "Online Sales of a SuperStore in the US" },
        data: null,
        chart: {
          showLegend: 0
        },
        caption: {
          text: "Daily Visitors Count of a Website"
        },
        yAxis: [
          {
            plot: {
              value: "Daily Visitors",
              type: "column"
            },
            title: "Daily Visitors (in thousand)"
          }
        ]
      }
    };
  },
  computed: {},
  mounted: function() {
    Promise.all([dataFetch, schemaFetch]).then(res => {
      const data = res[0];
      const schema = res[1];
      const fusionTable = new FusionCharts.DataStore().createDataTable(
        data,
        schema
      );
      this.dataSource.data = fusionTable;
    });
  }
};
</script>
